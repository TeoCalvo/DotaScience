pipeline {

    agent any

    stages {

        stage("Clear Env"){
            steps{
                sh "docker stop dota_con"
                sh "docker rm dota_con"
                sh "docker rmi dota_img"
            }
        }

        stage("Build Image"){
            steps{
                sh "docker build -t dota_img ."
            }
        }
       
        stage("Container up"){
            steps{
                sh "docker run --name dota_con dota_img"
            }
        }

    }
}